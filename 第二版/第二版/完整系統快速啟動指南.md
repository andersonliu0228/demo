# å®Œæ•´ç³»çµ±å¿«é€Ÿå•Ÿå‹•æŒ‡å—

## ğŸš€ ä¸€éµå•Ÿå‹•ï¼ˆæ¨è–¦ï¼‰

```powershell
.\å®Œæ•´ç³»çµ±æ¸¬è©¦æµç¨‹.ps1
```

é€™å€‹è…³æœ¬æœƒè‡ªå‹•å®Œæˆï¼š
1. âœ… å•Ÿå‹• Docker ç³»çµ±
2. âœ… åˆå§‹åŒ–æ¸¬è©¦æ•¸æ“š
3. âœ… æª¢æŸ¥ç³»çµ±ç‹€æ…‹
4. âœ… æ¸¬è©¦ Master è¨‚å–®
5. âœ… æ¸¬è©¦å‰ç«¯è¨ªå•

## ğŸ“‹ åˆ†æ­¥å•Ÿå‹•

### æ­¥é©Ÿ 1: å•Ÿå‹• Docker
```powershell
.\docker-start.ps1
```

### æ­¥é©Ÿ 2: åˆå§‹åŒ–æ•¸æ“š
```powershell
.\init-test-data.ps1
```

### æ­¥é©Ÿ 3: è¨ªå•ç³»çµ±
- å‰ç«¯: http://localhost:3000
- å¾Œç«¯ API: http://localhost:8000
- Swagger æ–‡æª”: http://localhost:8000/docs

## ğŸ”‘ æ¸¬è©¦å¸³è™Ÿ

```
ç”¨æˆ¶å: testuser
å¯†ç¢¼: testpass123
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¸¬è©¦

### 1. å¯¦æ™‚ç›£æ§
- ç™»å…¥å¾Œè‡ªå‹•é€²å…¥å„€è¡¨æ¿
- æ•¸æ“šæ¯ 3 ç§’è‡ªå‹•æ›´æ–°
- ç„¡éœ€æ‰‹å‹•åˆ·æ–°

### 2. ä¸€éµé–‹é—œ
- é»æ“Šå·¦ä¸Šè§’ã€Œè·Ÿå–®ç‹€æ…‹ã€æŒ‰éˆ•
- ç¶ è‰² = å·²å•Ÿç”¨ï¼Œç°è‰² = å·²åœç”¨
- Worker åœ¨ 3 ç§’å…§éŸ¿æ‡‰è®Šæ›´

### 3. å€‰ä½å°æ¯”
- å·¦å´ï¼šMaster å€‰ä½ï¼ˆç¶ è‰²ï¼‰
- å³å´ï¼šFollower å€‰ä½ï¼ˆè—è‰²ï¼‰
- å¯¦æ™‚é¡¯ç¤ºç›ˆè™§ï¼ˆç¶ è‰²/ç´…è‰²ï¼‰

### 4. éŒ¯èª¤é€šçŸ¥
- è‡ªå‹•æª¢æ¸¬äº¤æ˜“éŒ¯èª¤
- å³ä¸Šè§’å½ˆå‡º Toast é€šçŸ¥
- 5 ç§’å¾Œè‡ªå‹•æ¶ˆå¤±

## ğŸ§ª æ¸¬è©¦ Master è¨‚å–®

### æ–¹æ³• 1: ä½¿ç”¨è…³æœ¬
```powershell
.\test-trigger-master-order.ps1
```

### æ–¹æ³• 2: ä½¿ç”¨ PowerShell
```powershell
$body = @{
    master_user_id = 1
    master_credential_id = 1
    symbol = "BTC/USDT"
    position_size = 1.5
    entry_price = 50000.0
} | ConvertTo-Json

Invoke-RestMethod -Uri "http://localhost:8000/api/v1/test/trigger-master-order" `
    -Method Post -ContentType "application/json" -Body $body
```

### æ–¹æ³• 3: ä½¿ç”¨ Swagger
1. è¨ªå• http://localhost:8000/docs
2. æ‰¾åˆ° `POST /api/v1/test/trigger-master-order`
3. é»æ“Š "Try it out"
4. å¡«å¯«åƒæ•¸ä¸¦åŸ·è¡Œ

## ğŸ“Š è§€å¯ŸåŒæ­¥éç¨‹

1. **è§¸ç™¼ Master è¨‚å–®**
   ```powershell
   .\test-trigger-master-order.ps1
   ```

2. **è§€å¯Ÿå„€è¡¨æ¿è®ŠåŒ–**
   - Master å€‰ä½ç«‹å³æ›´æ–°
   - ç­‰å¾… 3 ç§’ï¼ˆWorker è¼ªè©¢é€±æœŸï¼‰
   - Follower å€‰ä½è‡ªå‹•åŒæ­¥
   - Toast é€šçŸ¥é¡¯ç¤ºæ“ä½œçµæœ

3. **æª¢æŸ¥æ•¸æ“šä¸€è‡´æ€§**
   - Master å€‰ä½ Ã— è·Ÿå–®æ¯”ä¾‹ = Follower å€‰ä½
   - ä¾‹å¦‚ï¼šMaster 1.5 BTC Ã— 50% = Follower 0.75 BTC

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### æŸ¥çœ‹æ—¥èªŒ
```powershell
# å¾Œç«¯æ—¥èªŒ
docker compose logs -f backend

# å‰ç«¯æ—¥èªŒ
docker compose logs -f frontend

# æ‰€æœ‰æœå‹™æ—¥èªŒ
docker compose logs -f
```

### é‡å•Ÿæœå‹™
```powershell
# é‡å•Ÿå¾Œç«¯
docker compose restart backend

# é‡å•Ÿå‰ç«¯
docker compose restart frontend

# é‡å•Ÿæ‰€æœ‰æœå‹™
docker compose restart
```

### åœæ­¢ç³»çµ±
```powershell
.\docker-stop.ps1
```

### æ¸…ç†ç³»çµ±
```powershell
.\docker-clean.ps1
```

## ğŸ” æ•…éšœæ’æŸ¥

### å•é¡Œ 1: å‰ç«¯ç„¡æ³•è¨ªå•
**ç—‡ç‹€**: http://localhost:3000 ç„¡æ³•æ‰“é–‹

**è§£æ±ºæ–¹æ¡ˆ**:
```powershell
# æª¢æŸ¥å®¹å™¨ç‹€æ…‹
docker compose ps

# æŸ¥çœ‹å‰ç«¯æ—¥èªŒ
docker compose logs frontend

# é‡å•Ÿå‰ç«¯
docker compose restart frontend
```

### å•é¡Œ 2: å¾Œç«¯ API éŒ¯èª¤
**ç—‡ç‹€**: API è¿”å› 500 éŒ¯èª¤

**è§£æ±ºæ–¹æ¡ˆ**:
```powershell
# æŸ¥çœ‹å¾Œç«¯æ—¥èªŒ
docker compose logs backend

# æª¢æŸ¥è³‡æ–™åº«é€£æ¥
docker compose exec backend python -c "from backend.app.database import engine; print('DB OK')"

# é‡æ–°åˆå§‹åŒ–æ•¸æ“š
.\init-test-data.ps1
```

### å•é¡Œ 3: æ•¸æ“šä¸æ›´æ–°
**ç—‡ç‹€**: å„€è¡¨æ¿æ•¸æ“šä¸åˆ·æ–°

**è§£æ±ºæ–¹æ¡ˆ**:
1. æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°æ˜¯å¦æœ‰éŒ¯èª¤
2. ç¢ºèª Worker æ˜¯å¦é‹è¡Œï¼šæŸ¥çœ‹å¾Œç«¯æ—¥èªŒ
3. æ‰‹å‹•åˆ·æ–°é é¢ï¼ˆF5ï¼‰
4. æ¸…é™¤ç€è¦½å™¨å¿«å–

### å•é¡Œ 4: ForeignKeyViolationError
**ç—‡ç‹€**: è§¸ç™¼ Master è¨‚å–®æ™‚å ±éŒ¯

**è§£æ±ºæ–¹æ¡ˆ**:
```powershell
# é‡æ–°åˆå§‹åŒ–æ•¸æ“š
.\init-test-data.ps1
```

## ğŸ“± ç§»å‹•ç«¯è¨ªå•

### åŒä¸€ç¶²è·¯è¨ªå•
1. æŸ¥çœ‹é›»è…¦ IP åœ°å€
   ```powershell
   ipconfig
   ```

2. åœ¨æ‰‹æ©Ÿç€è¦½å™¨è¨ªå•
   ```
   http://[é›»è…¦IP]:3000
   ```

### æ³¨æ„äº‹é …
- ç¢ºä¿é›»è…¦å’Œæ‰‹æ©Ÿåœ¨åŒä¸€ç¶²è·¯
- é—œé–‰é›»è…¦é˜²ç«ç‰†æˆ–å…è¨± 3000 ç«¯å£
- ä½¿ç”¨ Chrome æˆ– Safari ç€è¦½å™¨

## ğŸ¨ è‡ªå®šç¾©é…ç½®

### ä¿®æ”¹è¼ªè©¢é–“éš”
**æª”æ¡ˆ**: `frontend/src/components/Dashboard.jsx`

```javascript
// ä¿®æ”¹é€™ä¸€è¡Œçš„æ•¸å­—ï¼ˆæ¯«ç§’ï¼‰
const { dashboard, loading, error, refresh } = useDashboard(3000); // 3ç§’

// ä¾‹å¦‚æ”¹ç‚º 5 ç§’
const { dashboard, loading, error, refresh } = useDashboard(5000); // 5ç§’
```

### ä¿®æ”¹è·Ÿå–®æ¯”ä¾‹
**æ–¹æ³• 1**: å‰ç«¯å„€è¡¨æ¿ï¼ˆå¾…å¯¦ä½œï¼‰

**æ–¹æ³• 2**: API ç›´æ¥ä¿®æ”¹
```powershell
$body = @{
    is_active = $true
    follow_ratio = 0.3  # æ”¹ç‚º 30%
    master_user_id = 1
    master_credential_id = 1
} | ConvertTo-Json

Invoke-RestMethod -Uri "http://localhost:8000/api/v1/follow-config/settings" `
    -Method Put -ContentType "application/json" -Body $body `
    -Headers @{ "Authorization" = "Bearer YOUR_TOKEN" }
```

## ğŸ“š ç›¸é—œæ–‡æª”

- [å®Œæ•´ç³»çµ±è‡ªå‹•åŒ–æµæ°´ç·š_å¯¦ä½œç¸½çµ.md](./å®Œæ•´ç³»çµ±è‡ªå‹•åŒ–æµæ°´ç·š_å¯¦ä½œç¸½çµ.md) - è©³ç´°æŠ€è¡“æ–‡æª”
- [DOCKER_DEPLOYMENT.md](./DOCKER_DEPLOYMENT.md) - Docker éƒ¨ç½²æŒ‡å—
- [QUICK_START.md](./QUICK_START.md) - å¿«é€Ÿé–‹å§‹æŒ‡å—
- [ARCHITECTURE.md](./ARCHITECTURE.md) - ç³»çµ±æ¶æ§‹èªªæ˜

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **ç†Ÿæ‚‰ç³»çµ±**
   - æ¢ç´¢å„€è¡¨æ¿å„å€‹åŠŸèƒ½
   - æ¸¬è©¦ä¸€éµé–‹é—œ
   - è§€å¯Ÿå¯¦æ™‚æ•¸æ“šæ›´æ–°

2. **æ¸¬è©¦è·Ÿå–®**
   - è§¸ç™¼å¤šå€‹ Master è¨‚å–®
   - è§€å¯Ÿ Follower åŒæ­¥éç¨‹
   - é©—è­‰è·Ÿå–®æ¯”ä¾‹è¨ˆç®—

3. **å£“åŠ›æ¸¬è©¦**
   - å¿«é€Ÿé€£çºŒè§¸ç™¼è¨‚å–®
   - æ¸¬è©¦ç³»çµ±ç©©å®šæ€§
   - æª¢æŸ¥éŒ¯èª¤è™•ç†

4. **ç”Ÿç”¢éƒ¨ç½²**
   - é…ç½®çœŸå¯¦äº¤æ˜“æ‰€ API
   - è¨­å®šç”Ÿç”¢ç’°å¢ƒè®Šæ•¸
   - å•Ÿç”¨ HTTPS
   - é…ç½®åŸŸå

## âš ï¸ é‡è¦æç¤º

1. **æ¸¬è©¦ç’°å¢ƒ**
   - ç•¶å‰ä½¿ç”¨ Mock Exchange
   - ä¸æœƒé€£æ¥çœŸå¯¦äº¤æ˜“æ‰€
   - é©åˆé–‹ç™¼å’Œæ¸¬è©¦

2. **ç”Ÿç”¢ç’°å¢ƒ**
   - éœ€è¦é…ç½®çœŸå¯¦ API æ†‘è­‰
   - å»ºè­°å…ˆç”¨å°é¡æ¸¬è©¦
   - å®šæœŸå‚™ä»½è³‡æ–™åº«
   - ç›£æ§ç³»çµ±æ—¥èªŒ

3. **å®‰å…¨æ€§**
   - ä¿®æ”¹é è¨­å¯†ç¢¼
   - ä½¿ç”¨å¼·åŠ å¯†é‡‘é‘°
   - å•Ÿç”¨ HTTPS
   - å®šæœŸæ›´æ–°ä¾è³´

## ğŸ†˜ ç²å–å¹«åŠ©

- æŸ¥çœ‹æ—¥èªŒï¼š`docker compose logs -f`
- æª¢æŸ¥ç‹€æ…‹ï¼š`.\check-system-status.ps1`
- é‡æ–°åˆå§‹åŒ–ï¼š`.\init-test-data.ps1`
- å®Œå…¨é‡å•Ÿï¼š`.\docker-stop.ps1` â†’ `.\docker-start.ps1`

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰
